(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{301:function(e,t,a){e.exports=a.p+"static/media/storyland-white.7075a412.png"},304:function(e,t,a){e.exports=a.p+"static/media/storyland-main-dark.e6a93caf.png"},333:function(e,t,a){e.exports=a(581)},341:function(e,t,a){},581:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(20),l=a.n(o),c=(a(338),a(339),a(340),a(341),a(10)),s=a(11),i=a(13),u=a(12),m=a(14),d=a(98),p=a(29),f=a(301),h=a.n(f),g=function(){return r.a.createElement("div",{className:"landing-web"},r.a.createElement("div",{className:"landing-info"},r.a.createElement("div",{className:"landing-logo"},r.a.createElement("img",{src:h.a,alt:"storyland-app"})),r.a.createElement("div",{className:"landing-buttons"},r.a.createElement("div",null,r.a.createElement(p.b,{to:"/register"},r.a.createElement("button",{className:"my-button reg-button"},"Register"))),r.a.createElement("div",null,r.a.createElement(p.b,{to:"/login"},r.a.createElement("button",{className:"my-button log-button"},"Login"))))))},b="current-user",v=r.a.createContext(),E=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:JSON.parse(localStorage.getItem(b)||"{}")},a.handleUserChange=function(e){a.setState({user:e}),e&&e.email?localStorage.setItem(b,JSON.stringify(e)):localStorage.removeItem(b)},a.isAuthenticated=function(){return a.state.user&&a.state.user.email},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(v.Provider,{value:{user:this.state.user,onUserChanged:this.handleUserChange,isAuthenticated:this.isAuthenticated}},this.props.children)}}]),t}(n.Component),y=function(e){return function(t){return r.a.createElement(v.Consumer,null,function(a){return r.a.createElement(e,Object.assign({},t,a))})}},k=a(303),O=a.n(k).a.create({baseURL:"http://localhost:3001",withCredentials:!0}),N={login:function(e){return O.post("/login",e).then(function(e){return e.data})},register:function(e){return O.post("/register",e).then(function(e){return e.data})},logout:function(){return O.post("/logout").then(function(e){return e.data})},updateProfile:function(e){var t=new FormData;return Object.keys(e).forEach(function(a){"password"===a&&""===e.password||t.append(a,e[a])}),O.put("/users/profile",t).then(function(e){return Promise.resolve(e.data)})}},j=a(304),w=a.n(j),S=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleLogout=function(){N.logout().then(function(){var e=a.props.history;a.props.onUserChanged({}),e.push("/login")})},a.handleBack=function(){a.props.history.goBack()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.user;return r.a.createElement("nav",{className:"basic-nav"},r.a.createElement("div",{className:"nav-wrapper basic-nav-list"},r.a.createElement("ul",{id:"nav-mobile",className:"left"},r.a.createElement("li",{className:"basic-nav-item",onClick:this.handleBack},"Back")),r.a.createElement(p.b,{to:"#",className:"brand-logo center"},r.a.createElement("img",{className:"basic-nav-logo",src:w.a,alt:"storyland-app"})),r.a.createElement("ul",{id:"nav-mobile",className:"right right-register-topbar"},!e.email&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"basic-nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/login"},"Login")),r.a.createElement("li",{className:"basic-nav-item"},r.a.createElement(p.b,{className:"nav-link",to:"/register"},"Register"))),e.email&&r.a.createElement(n.Fragment,null,r.a.createElement("li",{className:"basic-nav-item",onClick:this.handleLogout},"Logout")))))}}]),t}(n.Component),C=y(Object(d.f)(S)),B=a(103),D=a(305),x=a.n(D),A=function(){return x()({validateMessages:{required:function(e){return"Required field"}}})},F=a(586),P=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onChange,a=e.value,n=e.errors,o=e.onblur,l=e.className,c=e.type,s=e.allowClear,i=n&&n.length>0;return r.a.createElement("div",{className:l},r.a.createElement(F.a,Object.assign({onChange:t,value:a},c?{type:c}:null,s?{allowClear:s}:null,o?{onBlur:o}:null)),i&&n.map(function(e,t){return r.a.createElement("p",{className:"error",key:t},e)}))}}]),t}(n.Component);P.defaultProps={className:""};var R=P,L=/(.+)@(.+){2,}\.(.+){2,}/i,T=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d){6,}/,U=function(e,t,a){return t&&t.length>=3?a():a(new Error("Name needs at least 3 chars"))},G=function(e,t,a){return(n=t)&&L.test(n)?a():a(new Error("Invalid mail"));var n},M=function(e,t,a){return(n=t)&&T.test(n)?a():a(new Error("Password needs uppercase, lowercase and numbers"));var n},I=a(31),J={getRegisterBooks:function(){return O.get("/books/register").then(function(e){return e.data})},getAllBooks:function(){return O.get("/books").then(function(e){return e.data})},getRelatedBooks:function(e){return e.includes("&")&&(e=e.replace("&","@")),O.get("/books?genres=".concat(e)).then(function(e){return e.data})},getBestRatedBooks:function(e){return O.get("/books?rating=".concat(e)).then(function(e){return e.data})},getLatestBooks:function(e){return O.get("/books?year=".concat(e)).then(function(e){return e.data})},getSearchedBook:function(e){return O.post("/books/".concat(e)).then(function(e){return e.data})},getOneBook:function(e){return O.get("/books/".concat(e)).then(function(e){return e.data})}},q=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.book,n=t.isActive;return r.a.createElement("div",{className:"register-book-item",onClick:function(){return e.props.bookClicked(a)}},r.a.createElement("img",{className:n?"register-book-active":"",src:a.imageLink,alt:a.title}))}}]),t}(n.Component),H=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:{},registerBooks:[],favBooks:[],error:"",secondScreen:!1,isRegistered:!1,postButton:!1},a.submitFirstForm=function(e){var t=a.props.form;e.preventDefault(),t.validateFields(function(e,t){e&&Object.keys(e).length>0||a.setState({user:t,secondScreen:!0}),a.handleRegisterBooks()})},a.submitRegister=function(e){var t=a.state,n=t.user,r=t.favBooks;if(e.preventDefault(),r.length>2){var o=r.map(function(e){return e.genres[0]});o=(o=function(e){var t={};return e.forEach(function(e){t[e]||(t[e]=!0)}),Object.keys(t)}(o)).slice(0,3),n.favGenres=o,N.register(n).then(function(e){a.setState({isRegistered:!0})},function(e){var t=e.response.data.message;a.setState({error:t,secondScreen:!1})})}},a.handleRegisterBooks=function(){J.getRegisterBooks().then(function(e){a.setState({registerBooks:e})})},a.handleCoverChange=function(e){a.state.favBooks.includes(e)?a.setState({favBooks:Object(B.a)(a.state.favBooks).filter(function(t){return t!==e})},function(){a.handlePostButton()}):a.setState({favBooks:[].concat(Object(B.a)(a.state.favBooks),[e])},function(){a.handlePostButton()})},a.handlePostButton=function(){a.state.favBooks.length>2?a.setState({postButton:!0}):a.setState({postButton:!1})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props.form,a=t.getFieldProps,o=t.getFieldError,l=this.state,c=l.user,s=l.error,i=l.secondScreen,u=l.isRegistered,m=l.favBooks,p=l.postButton,f=this.state.registerBooks.map(function(t){var a=!!m.includes(t);return r.a.createElement(q,{book:t,key:t.id,bookClicked:e.handleCoverChange,isActive:a})});return u?r.a.createElement(d.a,{to:"/login"}):r.a.createElement("div",{className:"reg-container"},!this.state.secondScreen&&r.a.createElement("form",{onSubmit:this.submitFirstForm,className:"reg-form"},r.a.createElement("div",{className:"form-item"},r.a.createElement(I.a,{type:"user"}),r.a.createElement("label",null,"Name"),r.a.createElement(R,Object.assign({value:c.name,type:"text",allowClear:!0},a("name",{validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:U}]}),{errors:o("name")}))),r.a.createElement("div",{className:"form-item"},r.a.createElement(I.a,{type:"mail"}),r.a.createElement("label",null,"Email"),r.a.createElement(R,Object.assign({value:c.mail,type:"email",allowClear:!0},a("email",{validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:G}]}),{errors:o("email")}))),r.a.createElement("div",{className:"form-item"},r.a.createElement(I.a,{type:"lock"}),r.a.createElement("label",null,"Password"),r.a.createElement(R,Object.assign({type:"password",allowClear:!0},a("password",{validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:M}]}),{errors:o("password")}))),r.a.createElement("p",{className:"error"},s),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-submit"},r.a.createElement("button",{type:"submit",className:"my-button next-button"},"Next")))),!0===i&&r.a.createElement(n.Fragment,null,r.a.createElement("h4",{className:"choose-register-title"},"Choose 3 or more books that you like"),r.a.createElement("div",{className:"register-books-container"},f),r.a.createElement("div",{className:"form-item-submit"},!p&&r.a.createElement("button",{type:"submit",className:"my-button post-button disabled-button",onClick:this.submitRegister,disabled:!0},"Register"),p&&r.a.createElement("button",{type:"submit",className:"my-button post-button",onClick:this.submitRegister},"Register"))))}}]),t}(n.Component),Y=A()(H),z=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{className:"screen-wrapper"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",{className:"reg-title"},"Register"),r.a.createElement(Y,null))))},V=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={error:"",isAuthenticated:!1},a.submitLogin=function(e){var t=a.props.form;e.preventDefault(),t.validateFields(function(e,t){e&&Object.keys(e).length>0||N.login(t).then(function(e){a.setState({isAuthenticated:!0},function(){a.props.onUserChanged(e)})},function(e){var t=e.response.data.message;a.setState({error:t})})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.form,t=e.getFieldProps,a=e.getFieldError,n=this.state,o=n.error;return n.isAuthenticated?r.a.createElement(d.a,{to:"/user/explore"}):r.a.createElement("div",{className:"reg-container"},r.a.createElement("form",{onSubmit:this.submitLogin,className:"reg-form"},r.a.createElement("div",{className:"form-item"},r.a.createElement(I.a,{type:"mail"}),r.a.createElement("label",null,"Email"),r.a.createElement(R,Object.assign({type:"email",allowClear:!0},t("email",{validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:G}]}),{errors:a("email")}))),r.a.createElement("div",{className:"form-item"},r.a.createElement(I.a,{type:"lock"}),r.a.createElement("label",null,"Password"),r.a.createElement(R,Object.assign({type:"password",allowClear:!0},t("password",{validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:M}]}),{errors:a("password")}))),r.a.createElement("p",{className:"error"},o),r.a.createElement("div",{className:"form-item"},r.a.createElement("div",{className:"form-item-submit"},r.a.createElement("button",{type:"submit",className:"my-button next-button"},"Log in")))))}}]),t}(n.Component),W=y(A()(V)),K=function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{className:"screen-wrapper"},r.a.createElement("div",{className:"form-container"},r.a.createElement("h1",{className:"reg-title"},"Login"),r.a.createElement(W,null))))},X=a(73),Z=a(104),$=a(68);X.b.add($.c),X.b.add($.b),X.b.add($.e),X.b.add($.d);var Q=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"usernavbar"},r.a.createElement("ul",{className:"usernavbar-container"},r.a.createElement("li",null,r.a.createElement(p.c,{className:"nav-link",activeClassName:"active",to:"/user/motivation"},r.a.createElement("div",{className:"usernavbar-item"},r.a.createElement(Z.a,{icon:"home"})))),r.a.createElement("li",null,r.a.createElement(p.c,{className:"nav-link",activeClassName:"active",to:"/user/explore"},r.a.createElement("div",{className:"usernavbar-item"},r.a.createElement(Z.a,{icon:"compass"})))),r.a.createElement("li",null,r.a.createElement(p.c,{className:"nav-link",activeClassName:"active",to:"/user/friends"},r.a.createElement("div",{className:"usernavbar-item"},r.a.createElement(Z.a,{icon:"users"})))),r.a.createElement("li",null,r.a.createElement(p.c,{className:"nav-link",activeClassName:"active",to:"/user/profile"},r.a.createElement("div",{className:"usernavbar-item"},r.a.createElement(Z.a,{icon:"user-circle"}))))))}}]),t}(n.Component),_=a(310),ee=a.n(_),te=function(e){var t=e.onSearch;e.clearSearch;return r.a.createElement("div",{className:"field explore-search-bar"},r.a.createElement(F.a,{className:"input",type:"text",placeholder:"Search",allowClear:!0,onChange:function(e){return t(e.target.value)}}))},ae=function(e){var t=e.book,a=t.imageLink,n=t.title,o=t.id,l=function(){if(e.book.authors){var t=[e.book.authors];return 1===t.length&&(t=t[0]),t.length>1&&(t=t.join(" & ")),t}return""}();return r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement(p.b,{to:"/user/explore/".concat(o)},r.a.createElement("img",{src:a,alt:n,className:"circle"}),r.a.createElement("span",{className:"title"},r.a.createElement("strong",null,n)),r.a.createElement("p",{className:"authors-item"},l)),r.a.createElement("a",{href:"#!",className:"secondary-content"},r.a.createElement("i",{className:"material-icons"})))},ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=[];return e=""!==this.props.books?this.props.books.map(function(e){return r.a.createElement(ae,{book:e,key:e.id})}):r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("span",{className:"title"},r.a.createElement("strong",null,"Not books found"))),r.a.createElement("div",{className:"booklist-container"},r.a.createElement("ul",{className:"collection"},e))}}]),t}(n.Component),re=a(69),oe=a.n(re),le={infinite:!0,speed:500,slidesToShow:10,swipeToSlide:!0,variableWidth:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:5,slidesToScroll:2}},{breakpoint:600,settings:{slidesToShow:3,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:2,slidesToScroll:1}}]},ce=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleAuthors=function(){if(a.props.book.authors){var e=[a.props.book.authors];return 1===e.length&&(e=e[0]),e.length>1&&(e=e.join(" & ")),e}return""},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.book,t=e.imageLink,a=e.title,n=e.id;e.genres,this.handleAuthors();return r.a.createElement("li",{className:"book-card card"},r.a.createElement(p.b,{to:"/user/explore/".concat(n)},r.a.createElement("figure",{className:"card-image"},r.a.createElement("img",{className:"book-cover",src:t,alt:a}))))}}]),t}(n.Component),se=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.componentDidMount=function(){J.getBestRatedBooks(5).then(function(e){a.setState({books:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.books.sort(function(){return.5-Math.random()}).map(function(e){return r.a.createElement(ce,{key:e.id,book:e})});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h4",{className:"category-title"},"Best rated books"),r.a.createElement("ul",{className:"book-container"},r.a.createElement(oe.a,le,e)))}}]),t}(n.Component),ie=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.componentDidMount=function(){var e=a.props.user.favGenres.join(",");J.getRelatedBooks(e).then(function(e){a.setState({books:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.books.sort(function(){return.5-Math.random()}).map(function(e){return r.a.createElement(ce,{key:e.id,book:e})});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h4",{className:"category-title"},"Books that you will like"),r.a.createElement("ul",{className:"book-container"},r.a.createElement(oe.a,le,e)))}}]),t}(n.Component)),ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.componentDidMount=function(){J.getLatestBooks(2019).then(function(e){a.setState({books:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.books.sort(function(){return.5-Math.random()}).map(function(e){return r.a.createElement(ce,{key:e.id,book:e})});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h4",{className:"category-title"},"Latest books"),r.a.createElement("ul",{className:"book-container"},r.a.createElement(oe.a,le,e)))}}]),t}(n.Component),me=a(584),de=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],genre:""},a.handleSelectChange=function(e){var t=e;a.handleGenreBooks(t)},a.handleGenreBooks=function(e){J.getRelatedBooks(e).then(function(e){a.setState({books:e})})},a.componentDidMount=function(){a.handleGenreBooks("Fiction")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.books.sort(function(){return.5-Math.random()}).map(function(e){return r.a.createElement(ce,{key:e.id,book:e})});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("div",{className:"genre-input"},r.a.createElement("h4",{className:"category-title"},"Books by genre"),r.a.createElement(me.a,{defaultValue:"Fiction",onChange:this.handleSelectChange},r.a.createElement(me.a.Option,{value:"Biography & Autobiography"},"Biography & Autobiography"),r.a.createElement(me.a.Option,{value:"Business & Economics"},"Business & Economics"),r.a.createElement(me.a.Option,{value:"Fiction"},"Fiction"),r.a.createElement(me.a.Option,{value:"Health & Fitness"},"Health & Fitness"),r.a.createElement(me.a.Option,{value:"Juvenile Nonfiction"},"Juvenile Nonfiction"),r.a.createElement(me.a.Option,{value:"History"},"History"),r.a.createElement(me.a.Option,{value:"Literary Collections"},"Literary Collections"),r.a.createElement(me.a.Option,{value:"Performing Arts"},"Performing Arts"),r.a.createElement(me.a.Option,{value:"Political Science"},"Political Science"),r.a.createElement(me.a.Option,{value:"Self-Help"},"Self-Help"),r.a.createElement(me.a.Option,{value:"Social Science"},"Social Science"))),r.a.createElement("ul",{className:"book-container"},r.a.createElement(oe.a,le,e)))}}]),t}(n.Component),pe=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[],search:""},a.onSearch=ee()(function(e){a.setState({search:e}),e.length>3&&J.getSearchedBook(e).then(function(e){a.setState({books:e})})},1e3),a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.books,a=e.search;return r.a.createElement("div",{className:"screen-container"},r.a.createElement(te,{onSearch:this.onSearch.bind(this)}),a&&r.a.createElement(ne,{books:t}),!a&&r.a.createElement(n.Fragment,null,r.a.createElement(ie,null),r.a.createElement(se,null),r.a.createElement(ue,null),r.a.createElement(de,null)))}}]),t}(n.Component),fe={createGoal:function(e){return O.post("/users/creategoal",e).then(function(e){return e.data})},getGoals:function(){return O.get("/users/goals").then(function(e){return e.data})},getLastGoals:function(e){return O.post("/users/goals/".concat(e)).then(function(e){return e.data})}},he=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={pagesDay:0},a.handlePagesChange=function(e){var t=e.target.value;a.setState({pagesDay:t})},a.handlePagesSubmit=function(e){e.preventDefault();var t={pagesDay:a.state.pagesDay};t.pagesDay>0&&(fe.createGoal(t).then(),a.props.user.pagesGoal<=a.state.pagesDay?a.props.congratsBox(!0):a.props.congratsBox(!1))},a.valuePages=function(){fe.getLastGoals(1).then(function(e){if(0!==e.length){var t=new Date,n=new Date(e[0].updatedAt),r=t.getDate()===n.getDate(),o=t.getMonth()===n.getMonth(),l=t.getFullYear()===n.getFullYear();r&&o&&l&&a.setState({pagesDay:e[0].pagesDay})}})},a.componentDidMount=function(){a.valuePages()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.pagesDay;return r.a.createElement("div",{className:"pages-read-container"},r.a.createElement("h4",{className:"how-many-pages-title"},"How many pages did you read today?"),r.a.createElement("div",{className:"pages-read-today"},r.a.createElement("div",{className:"input-field pages-input"},r.a.createElement("input",{type:"number",name:"pages",onChange:this.handlePagesChange,value:e})),r.a.createElement("button",{className:"my-button confirm-pages",onClick:this.handlePagesSubmit},"pages read today")))}}]),t}(n.Component)),ge=a(106),be=a(331),ve=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={period:"month",pagesRead:0,data:[]},a.handlePeriodChange=function(e){var t=e;a.handleDataGraphic(t)},a.handleDataGraphic=function(e){var t=[],n=function(e,a){t.unshift({x:e,y:a})};switch(e){case"year":fe.getLastGoals(365).then(function(r){if(r){var o=!0,l=!1,c=void 0;try{for(var s,i=r[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value,m=new Date(u.updatedAt);n(ge.DateTime.fromJSDate(m).day+ge.DateTime.fromJSDate(m).monthShort,u.pagesDay)}}catch(d){l=!0,c=d}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}}a.setDataGraphic(t,e)});break;case"month":fe.getLastGoals(30).then(function(r){if(r){var o=!0,l=!1,c=void 0;try{for(var s,i=r[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value,m=new Date(u.updatedAt);n(ge.DateTime.fromJSDate(m).day+ge.DateTime.fromJSDate(m).monthShort,u.pagesDay)}}catch(d){l=!0,c=d}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}}a.setDataGraphic(t,e)});break;case"week":default:fe.getLastGoals(7).then(function(r){if(r){var o=!0,l=!1,c=void 0;try{for(var s,i=r[Symbol.iterator]();!(o=(s=i.next()).done);o=!0){var u=s.value,m=new Date(u.updatedAt);n(ge.DateTime.fromJSDate(m).weekdayShort+ge.DateTime.fromJSDate(m).day,u.pagesDay)}}catch(d){l=!0,c=d}finally{try{o||null==i.return||i.return()}finally{if(l)throw c}}}a.setDataGraphic(t,e)})}},a.setDataGraphic=function(e,t){var n=e.reduce(function(e,t){return e+t.y},0);a.setState({data:e,period:t,pagesRead:n})},a.componentDidMount=function(){a.handleDataGraphic("month")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.data,a=e.pagesRead,n=[{id:"Pages",data:Object(B.a)(t)}],o=r.a.createElement(be.a,{data:n,margin:{top:30,right:20,bottom:30,left:20},curve:"natural",axisTop:null,axisRight:null,axisBottom:null,axisLeft:null,enableGridY:!1,enableGridX:!1,lineWidth:7,dotSize:0,colors:"#fafafa",dotColor:"inherit:darker(1)",dotLabelYOffset:-15,isInteractive:!1,enableStackTooltip:!1,animate:!0,motionStiffness:100,motionDamping:5});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("div",{className:"pages-read-wrapper"},r.a.createElement("h2",{className:"pages-read-count"},a),r.a.createElement("h4",{className:"pages-read-in"},"pages read in"),r.a.createElement(me.a,{className:"pages-period-select",defaultValue:"month",onChange:this.handlePeriodChange},r.a.createElement(me.a.Option,{value:"week"},"the last week"),r.a.createElement(me.a.Option,{value:"month"},"the last month"),r.a.createElement(me.a.Option,{value:"year"},"the last year"))),r.a.createElement("div",{className:"chart-graphic"},o))}}]),t}(n.Component)),Ee=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={congratsBox:!1,congratsText:""},a.handleCongratsText=function(e){e?a.setState({congratsBox:!0,congratsText:"Congrats!! You rocked your goal"}):a.setState({congratsBox:!0,congratsText:"Good! It's better than nothing. Keep improving to reach your daily goal"})},a.closeCongratsBox=function(){a.setState({congratsBox:!1,congratsText:""})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.congratsText;return r.a.createElement("div",{className:"screen-container"},e&&r.a.createElement("div",{className:"congrats-box"},r.a.createElement("div",{className:"congrats-text"},r.a.createElement("p",null,e),r.a.createElement("button",{className:"my-button congrats-button",onClick:this.closeCongratsBox},"Close"))),r.a.createElement(ve,null),r.a.createElement(he,{congratsBox:this.handleCongratsText}))}}]),t}(n.Component),ye={getUser:function(e){return O.get("/users/".concat(e,"/profile")).then(function(e){return e.data})},getUsers:function(){return O.get("/users/").then(function(e){return e.data})},getSocialUsers:function(e){return O.get("/users/".concat(e,"/friends")).then(function(e){return e.data})},followUser:function(e){return O.post("/users/".concat(e,"/follow")).then(function(e){return e.data})},unfollowUser:function(e){return O.delete("/users/".concat(e,"/follow")).then(function(e){return e.data})}},ke=function(e){var t=e.user,a=t.id,n=t.name,o=t.avatarURL,l=t.pagesGoal;return r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement(p.b,{to:"/user/friends/".concat(a)},r.a.createElement("img",{src:o,alt:n,className:"circle"}),r.a.createElement("span",{className:"title"},r.a.createElement("strong",null,n)),r.a.createElement("p",null,"Pages goal: ",l)),r.a.createElement("a",{href:"#!",className:"secondary-content"},r.a.createElement("i",{className:"material-icons"})))},Oe=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.componentDidMount=function(){ye.getUsers().then(function(e){e=e.filter(function(e){return e.id!==a.props.user.id}),a.setState({users:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.users.map(function(e){return r.a.createElement(ke,{user:e,key:e.id})});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h2",{className:"category-title"},"Discover what other people are reading"),r.a.createElement("div",{className:"booklist-container"},r.a.createElement("ul",{className:"collection"},e)))}}]),t}(n.Component)),Ne=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"screen-container"},r.a.createElement(Oe,null))}}]),t}(n.Component),je=a(224),we=a(585),Se={getProfileBooks:function(e){return O.get("/users/books",{params:{state:e}}).then(function(e){return e.data})},getStateBook:function(e){return O.get("/users/books/".concat(e)).then(function(e){return e.data})},createStateBook:function(e,t){return O.post("/users/books/".concat(e,"?state=").concat(t)).then(function(e){return e.data})}},Ce=we.a.Panel,Be=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={book:{},relatedBooks:[],state:""},a.handleStateButton=function(e){var t=e.target.value;a.setState({state:t}),Se.createStateBook(a.state.book.id,t),Se.getStateBook(a.state.book.id).then(function(e){a.setState({state:e})})},a.formatDate=function(e){return new Date(e).toLocaleDateString()},a.handleAuthors=function(){if(a.state.book.authors){var e=[a.state.book.authors];return 1===e.length&&(e=e[0]),e.length>1&&(e=e.join(" & ")),e}return""},a.componentDidMount=function(){var e=a.props.match.params.bookId;Promise.all([J.getOneBook(e),Se.getStateBook(e)]).then(function(e){var t=Object(je.a)(e,2),n=t[0],r=t[1],o=n.genres[0];J.getRelatedBooks(o).then(function(e){a.setState({book:n,state:r,relatedBooks:e})})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this,a=this.props.match.params.bookId;a!==e.match.params.bookId&&Promise.all([J.getOneBook(a),Se.getStateBook(a)]).then(function(e){var a=Object(je.a)(e,2),n=a[0],r=a[1],o=n.genres[0];J.getRelatedBooks(o).then(function(e){t.setState({book:n,state:r,relatedBooks:e},function(){return document.querySelector("body").scrollTop=0})})})}},{key:"render",value:function(){var e=this.state,t=e.book,a=e.state,n=this.handleAuthors(),o=this.formatDate(this.state.book.publishedDate),l=this.state.relatedBooks.filter(function(e){return e.isbn!==t.isbn}).sort(function(){return.5-Math.random()}).map(function(e){return r.a.createElement(ce,{key:e.id,book:e})});return r.a.createElement("div",{className:"screen-container"},r.a.createElement("div",{className:"book-detail-container"},r.a.createElement("div",{className:"book-detail-maininfo"},r.a.createElement("figure",{className:"book-detail-cover"},r.a.createElement("img",{src:t.imageLink,alt:t.title})),r.a.createElement("div",{className:"book-detail-title"},r.a.createElement("h2",{className:"detail-title"},t.title),r.a.createElement("h4",{className:"detail-author"},n))),r.a.createElement("div",{className:"book-detail-buttons collection"},r.a.createElement("button",{className:"pending"===a?"my-button active-state":"my-button pending-button",value:"pending",onClick:this.handleStateButton},"pending"),r.a.createElement("button",{className:"reading"===a?"my-button active-state":"my-button reading-button",value:"reading",onClick:this.handleStateButton},"reading"),r.a.createElement("button",{className:"read"===a?"my-button active-state":"my-button reading-button",value:"read",onClick:this.handleStateButton},"read")),r.a.createElement("div",{className:"book-detail-summary"},r.a.createElement(we.a,{bordered:!1,defaultActiveKey:[]},t.googleRating&&r.a.createElement(Ce,{header:"Rating",key:"1"},t.googleRating),t.pageCount&&r.a.createElement(Ce,{header:"Page Count",key:"2"},t.pageCount," pages"),o&&r.a.createElement(Ce,{header:"Published Date",key:"3"},"Date: ",o),t.description&&r.a.createElement(Ce,{header:"Description",key:"4"},t.description)))),r.a.createElement("div",{className:"category-screen"},r.a.createElement("h4",{className:"category-title"},"Related books"),r.a.createElement("ul",{className:"book-container"},r.a.createElement(oe.a,le,l))))}}]),t}(n.Component),De=a(138),xe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.friend,t=e.name,a=e.avatarURL,n=e.pagesGoal,o=(e.favGenres,e.followers),l=this.props.userId,c=o.some(function(e){return e.follower===l});return r.a.createElement("div",{className:"category-screen"},r.a.createElement("div",{className:"card horizontal profile-card"},r.a.createElement("div",{className:"card-image profile-avatar"},r.a.createElement("img",{src:a||"https://profile.actionsprout.com/default.jpeg",alt:"profile-pic",className:"profile-avatar-img"})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h4",null,t),r.a.createElement("p",null,"Daily goal: ",r.a.createElement("strong",null,n," pages"))),r.a.createElement("div",{className:"card-action profile-link"},!c&&r.a.createElement("button",{className:"my-button follow-button",onClick:this.props.handleFollow},"Follow the reader"),c&&r.a.createElement("button",{className:"my-button unfollow-button",onClick:this.props.handleUnfollow},"Unfollow the reader")))))}}]),t}(n.Component),Ae=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={friend:{},followButton:!1,loading:!0},a.handleFollow=function(){var e=a.state.friend;ye.followUser(a.state.friend.id).then(function(t){t&&a.setState({friend:Object(De.a)({},e,{followers:[].concat(Object(B.a)(e.followers),[t])})})})},a.handleUnfollow=function(){var e=a.state.friend,t=a.props.user;ye.unfollowUser(a.state.friend.id).then(function(){a.setState({friend:Object(De.a)({},e,{followers:e.followers.filter(function(e){return e.follower!==t.id})})})})},a.componentDidMount=function(){var e=a.props.match.params.userId;ye.getUser(e).then(function(e){return a.setState({friend:e,loading:!1})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.friend,a=e.followButton,n=e.loading,o=this.props.user.id;return r.a.createElement("div",{className:"screen-container"},n?r.a.createElement("p",null,"Loading..."):r.a.createElement(xe,{friend:t,followButton:a,handleFollow:this.handleFollow,handleUnfollow:this.handleUnfollow,userId:o}))}}]),t}(n.Component)),Fe=a(583),Pe=a(168),Re=y(function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={followed:0,following:0},a.componentDidMount=function(){ye.getSocialUsers(a.props.user.id).then(function(e){a.setState({followed:e.followers.length,following:e.following.length})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state,t=e.followed,a=e.following;return r.a.createElement("ul",{className:"collection follow-container"},r.a.createElement("div",{className:"follow-item"},r.a.createElement("div",{className:"follow-content"},r.a.createElement("p",null,"Followed by"),r.a.createElement("span",{className:"follow-title"},t),r.a.createElement("p",null,"readers"))),r.a.createElement("div",{className:"follow-item"},r.a.createElement("div",{className:"follow-content"},r.a.createElement("p",null,"Following"),r.a.createElement("span",{className:"follow-title"},a),r.a.createElement("p",null,"readers"))))}}]),t}(n.Component));X.b.add($.a);var Le=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:a.props.user,error:"",editBox:!1,avatar:null},a.editProfile=function(){a.setState({editBox:!0})},a.cancelEdit=function(){a.setState({user:a.props.user,error:"",editBox:!1,avatar:null})},a.submitProfile=function(e){var t=a.state.avatar,n=a.props.form;e.preventDefault(),n.validateFields(function(e,n){e&&Object.keys(e).length>0||(t&&(n.avatar=t),N.updateProfile(n).then(function(e){a.setState({editBox:!1,user:Object(De.a)({},a.state.user,e)},function(){a.props.onUserChanged(e)})},function(e){var t=e.response.data.message;a.setState({error:t})}))})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.user,o=t.editBox,l=t.error,c=t.avatar,s=this.props.form,i=s.getFieldProps,u=s.getFieldError;return r.a.createElement(n.Fragment,null,!o&&r.a.createElement("div",{className:"category-screen"},r.a.createElement("div",{className:"card horizontal profile-card"},r.a.createElement("div",{className:"card-image profile-avatar"},r.a.createElement("img",{src:a.avatarURL?a.avatarURL:"https://profile.actionsprout.com/default.jpeg",alt:"profile-pic",className:"profile-avatar-img"})),r.a.createElement("div",{className:"card-stacked"},r.a.createElement("div",{className:"card-content"},r.a.createElement("h4",null,a.name),r.a.createElement("p",null,"Daily goal: ",r.a.createElement("strong",null,a.pagesGoal," pages"))),r.a.createElement(Re,null),r.a.createElement("div",{className:"profile-link"},r.a.createElement(Z.a,{icon:"cog",onClick:this.editProfile}))))),o&&r.a.createElement("div",{className:"category-screen"},r.a.createElement("div",{className:"card-horizontal profile-card profile-card-edit"},r.a.createElement("div",{className:"card-image profile-avatar-edit"},r.a.createElement("div",{className:"profile-form-image"},r.a.createElement("img",{src:c?URL.createObjectURL(c):a.avatarURL?a.avatarURL:"https://profile.actionsprout.com/default.jpeg",alt:"profile-pic",className:"profile-avatar-img-edit"}),r.a.createElement(Fe.a,{className:"upload-pic-button",name:"logo",listType:"picture",beforeUpload:function(t){return e.setState({avatar:t}),!1}},r.a.createElement(Pe.a,{htmlType:"button"},r.a.createElement(I.a,{type:"upload"})," Change avatar")))),r.a.createElement("div",{className:"card-stacked profile-info"},r.a.createElement("div",{className:"card-content"},r.a.createElement("form",{id:"profile-form",onSubmit:this.submitProfile},r.a.createElement("div",{className:"profile-form-group"},r.a.createElement("label",null,"Name"),r.a.createElement(R,Object.assign({type:"text",allowClear:!0},i("name",{initialValue:a.name,validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:U}]}),{errors:u("name")}))),r.a.createElement("div",{className:"profile-form-group"},r.a.createElement("label",null,"Email"),r.a.createElement(R,Object.assign({type:"email",allowClear:!0},i("email",{initialValue:a.email,validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0,validator:G}]}),{errors:u("email")}))),r.a.createElement("div",{className:"profile-form-group"},r.a.createElement("label",null,"Pages goal"),r.a.createElement(R,Object.assign({type:"number",allowClear:!0},i("pagesGoal",{initialValue:a.pagesGoal,validateFirst:!0,validateTrigger:"onblur",rules:[{required:!0}]})))),r.a.createElement("p",{className:"error"},l),r.a.createElement("div",{className:"profile-form-group card-action"},r.a.createElement("div",{className:"profile-group-submit"},r.a.createElement("button",{onClick:this.cancelEdit,className:"my-button cancel-button"},"Cancel"),r.a.createElement("button",{type:"submit",className:"my-button update-button"},"Update")))))))))}}]),t}(n.Component),Te=y(A()(Le)),Ue=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={books:[]},a.componentDidMount=function(){Se.getProfileBooks(a.props.state).then(function(e){a.setState({books:e})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.books.map(function(e){return r.a.createElement(ae,{book:e,key:e.id})});return r.a.createElement("div",{className:"booklist-container"},r.a.createElement("ul",{className:"collection"},e))}}]),t}(n.Component),Ge=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h2",{className:"category-title"},"Books that you have pending"),r.a.createElement(Ue,{state:"pending"}))}}]),t}(n.Component),Me=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h2",{className:"category-title"},"Books that you have read"),r.a.createElement(Ue,{state:"read"}))}}]),t}(n.Component),Ie=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"category-screen"},r.a.createElement("h2",{className:"category-title"},"Books that you are reading"),r.a.createElement(Ue,{state:"reading"}))}}]),t}(n.Component),Je=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"screen-container"},r.a.createElement(Te,null),r.a.createElement(Ie,null),r.a.createElement(Ge,null),r.a.createElement(Me,null))}}]),t}(n.Component),qe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement("div",{className:"screen-wrapper"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/user/explore",component:pe}),r.a.createElement(d.b,{exact:!0,path:"/user/motivation",component:Ee}),r.a.createElement(d.b,{exact:!0,path:"/user/friends",component:Ne}),r.a.createElement(d.b,{exact:!0,path:"/user/profile",component:Je}),r.a.createElement(d.b,{path:"/user/explore/:bookId",component:Be}),r.a.createElement(d.b,{path:"/user/friends/:userId",component:Ae}),r.a.createElement(d.a,{to:"/user/explore"}))),r.a.createElement(Q,null))}}]),t}(n.Component),He=function(e){var t=e.code,a=e.message,n=e.level;return r.a.createElement("div",{className:"row justify-content-center mt-3"},r.a.createElement("div",{className:"alert alert-".concat(n," mt-5"),role:"alert"},r.a.createElement("i",{className:"fa fa-warning mr-1"})," ",r.a.createElement("strong",null,t)," ",a))};He.defaultProps={level:"warning",message:"An error ocurred"};var Ye=function(){return r.a.createElement(He,{level:"warning",code:"403",message:"You are not logged in to access this area"})},ze=function(){return r.a.createElement(He,{level:"dark",code:"404",message:"Page not found"})},Ve=a(167),We=function(e){var t=e.component,a=Object(Ve.a)(e,["component"]);return r.a.createElement(v.Consumer,null,function(e){var n=e.isAuthenticated;return e.user,r.a.createElement(d.b,Object.assign({},a,{render:function(e){return n()?r.a.createElement(t,e):r.a.createElement(d.a,{to:"/login"})}}))})},Ke=function(e){var t=e.component,a=Object(Ve.a)(e,["component"]);return r.a.createElement(v.Consumer,null,function(e){var n=e.isAuthenticated;return e.user,r.a.createElement(d.b,Object.assign({},a,{render:function(e){return n()?r.a.createElement(d.a,{to:"/user/explore"}):r.a.createElement(t,e)}}))})},Xe=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d.d,null,r.a.createElement(Ke,{path:"/register",component:z}),r.a.createElement(Ke,{path:"/login",component:K}),r.a.createElement(d.b,{exact:!0,path:"/",component:g}),r.a.createElement(We,{path:"/user",component:qe}),r.a.createElement(d.b,{exact:!0,path:"/forbidden",component:Ye}),r.a.createElement(d.b,{exact:!0,path:"/not-found",component:ze}),r.a.createElement(d.a,{to:"/not-found"})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(p.a,{basename:"/storyland-app"},r.a.createElement(E,null,r.a.createElement(Xe,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[333,1,2]]]);
//# sourceMappingURL=main.8b3974e2.chunk.js.map